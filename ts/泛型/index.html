<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TSFamily - 前端程序员宝典</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/x-icon" href="/TSFamily/favicon.ico">
    <meta name="description" content="🔥 前端程序员宝典，包含了：ts，node，react，vue，next.js等一揽子知识体系">
    
    <link rel="preload" href="/TSFamily/assets/css/0.styles.5752bb95.css" as="style"><link rel="preload" href="/TSFamily/assets/js/app.83052095.js" as="script"><link rel="preload" href="/TSFamily/assets/js/2.526aabdc.js" as="script"><link rel="preload" href="/TSFamily/assets/js/1.fb0de850.js" as="script"><link rel="preload" href="/TSFamily/assets/js/50.66beb206.js" as="script"><link rel="prefetch" href="/TSFamily/assets/js/10.0f940ce9.js"><link rel="prefetch" href="/TSFamily/assets/js/11.47db5ded.js"><link rel="prefetch" href="/TSFamily/assets/js/12.d5451a8e.js"><link rel="prefetch" href="/TSFamily/assets/js/13.fbb85f37.js"><link rel="prefetch" href="/TSFamily/assets/js/14.c303d081.js"><link rel="prefetch" href="/TSFamily/assets/js/15.b9998e58.js"><link rel="prefetch" href="/TSFamily/assets/js/16.381c1f06.js"><link rel="prefetch" href="/TSFamily/assets/js/17.00847b29.js"><link rel="prefetch" href="/TSFamily/assets/js/18.f274fc61.js"><link rel="prefetch" href="/TSFamily/assets/js/19.963a2a8e.js"><link rel="prefetch" href="/TSFamily/assets/js/20.e205e219.js"><link rel="prefetch" href="/TSFamily/assets/js/21.ffc7a95f.js"><link rel="prefetch" href="/TSFamily/assets/js/22.03a0cdbe.js"><link rel="prefetch" href="/TSFamily/assets/js/23.b7ffd3d2.js"><link rel="prefetch" href="/TSFamily/assets/js/24.5e9520f7.js"><link rel="prefetch" href="/TSFamily/assets/js/25.203815cb.js"><link rel="prefetch" href="/TSFamily/assets/js/26.57437a5c.js"><link rel="prefetch" href="/TSFamily/assets/js/27.0598221d.js"><link rel="prefetch" href="/TSFamily/assets/js/28.38232a10.js"><link rel="prefetch" href="/TSFamily/assets/js/29.66aed84b.js"><link rel="prefetch" href="/TSFamily/assets/js/3.9eb5c66d.js"><link rel="prefetch" href="/TSFamily/assets/js/30.290ceb70.js"><link rel="prefetch" href="/TSFamily/assets/js/31.0464c1da.js"><link rel="prefetch" href="/TSFamily/assets/js/32.a1afd53b.js"><link rel="prefetch" href="/TSFamily/assets/js/33.15151de8.js"><link rel="prefetch" href="/TSFamily/assets/js/34.c52c5a7f.js"><link rel="prefetch" href="/TSFamily/assets/js/35.b6f59f62.js"><link rel="prefetch" href="/TSFamily/assets/js/36.068395bd.js"><link rel="prefetch" href="/TSFamily/assets/js/37.c0318e66.js"><link rel="prefetch" href="/TSFamily/assets/js/38.f726dd39.js"><link rel="prefetch" href="/TSFamily/assets/js/39.a2dcc478.js"><link rel="prefetch" href="/TSFamily/assets/js/4.9dcf17a8.js"><link rel="prefetch" href="/TSFamily/assets/js/40.57079beb.js"><link rel="prefetch" href="/TSFamily/assets/js/41.911ab182.js"><link rel="prefetch" href="/TSFamily/assets/js/42.1d8a0126.js"><link rel="prefetch" href="/TSFamily/assets/js/43.59ae0506.js"><link rel="prefetch" href="/TSFamily/assets/js/44.dcffab01.js"><link rel="prefetch" href="/TSFamily/assets/js/45.2e1c9a0b.js"><link rel="prefetch" href="/TSFamily/assets/js/46.29caa69c.js"><link rel="prefetch" href="/TSFamily/assets/js/47.31454d8e.js"><link rel="prefetch" href="/TSFamily/assets/js/48.5e1862fb.js"><link rel="prefetch" href="/TSFamily/assets/js/49.cc47c871.js"><link rel="prefetch" href="/TSFamily/assets/js/5.3400a9c3.js"><link rel="prefetch" href="/TSFamily/assets/js/51.bbcf049b.js"><link rel="prefetch" href="/TSFamily/assets/js/52.12fbafe7.js"><link rel="prefetch" href="/TSFamily/assets/js/53.fb2b71ee.js"><link rel="prefetch" href="/TSFamily/assets/js/54.9cbb1d94.js"><link rel="prefetch" href="/TSFamily/assets/js/6.0ddace00.js"><link rel="prefetch" href="/TSFamily/assets/js/7.beb1eb79.js"><link rel="prefetch" href="/TSFamily/assets/js/vendors~docsearch.bdc2fb18.js">
    <link rel="stylesheet" href="/TSFamily/assets/css/0.styles.5752bb95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TSFamily/" class="home-link router-link-active"><img src="https://avatars.githubusercontent.com/u/42873232" alt="TSFamily - 前端程序员宝典" class="logo"> <span class="site-name can-hide">TSFamily - 前端程序员宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/TSFamily/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/TSFamily" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/TSFamily/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/TSFamily" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#接口泛型" class="sidebar-link">接口泛型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#类泛型" class="sidebar-link">类泛型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#ts-中-any-和反射" class="sidebar-link">ts 中 any 和反射</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#泛型使用省略" class="sidebar-link">泛型使用省略</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#extends-和类型约束" class="sidebar-link">extends 和类型约束</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#partial" class="sidebar-link">Partial</a></li><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#required" class="sidebar-link">Required</a></li><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#pick-t-k" class="sidebar-link">Pick</a></li><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#exclude-t-u" class="sidebar-link">Exclude</a></li><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#omit-t-k" class="sidebar-link">Omit</a></li><li class="sidebar-sub-header"><a href="/TSFamily/ts/%E6%B3%9B%E5%9E%8B/#readonly" class="sidebar-link">Readonly</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="泛型">泛型</h1> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">myage</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> age
<span class="token punctuation">}</span>
<span class="token function">myage</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
</code></pre></div><p>下面我们看一下 go 的泛型</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">myage</span><span class="token punctuation">(</span><span class="token string">&quot;12&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> myage<span class="token punctuation">[</span>T <span class="token builtin">int</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">(</span>t T<span class="token punctuation">)</span> T <span class="token punctuation">{</span>
	<span class="token keyword">return</span> t
<span class="token punctuation">}</span>
</code></pre></div><p>看出来了什么？</p> <p>ts 和 Java 一样都是伪泛型，只不过是类型的拆箱和装箱而已，类似于 go 的 any 反射，所以 ts 的泛型效率比较低，go 的泛型效率高，因为 go 的泛型是编译时的泛型，而 ts 的泛型是运行时的泛型，所以效率差很多</p> <h2 id="接口泛型">接口泛型</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">part<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
  first<span class="token operator">:</span><span class="token constant">T</span>
  second<span class="token operator">:</span><span class="token constant">U</span> 
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> result<span class="token operator">:</span>part <span class="token operator">=</span> <span class="token punctuation">{</span> first<span class="token operator">:</span><span class="token number">45</span><span class="token punctuation">,</span> second<span class="token operator">:</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="类泛型">类泛型</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">part<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">&gt;</span></span><span class="token punctuation">{</span>
  <span class="token keyword">private</span> second<span class="token operator">:</span><span class="token constant">U</span>
  <span class="token keyword">private</span> first<span class="token operator">:</span><span class="token constant">T</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>first<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">,</span>second<span class="token operator">:</span><span class="token constant">U</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first
    <span class="token keyword">this</span><span class="token punctuation">.</span>second <span class="token operator">=</span> second
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ts-中-any-和反射">ts 中 any 和反射</h2> <p>ts 中也有 any 类型，那么请问 any 跟泛型是不是一致的底层原理，反正都是运行时通过反射装箱不是吗</p> <ol><li><p>any 类型表示允许赋值为任意类型，disable 了类型检查，所以从编译原理来看，它与泛型的实现不同。</p></li> <li><p>泛型在编译时会进行类型推导和检查，但编译结果都会被擦除。any 类型编译时就完全禁用检查。</p></li> <li><p>泛型需要编译器保留部分信息用于运行时反射装箱。any 完全不需要这些信息。</p></li> <li><p>any 可以表示任意值，泛型变量仍与指定的类型参数关联，有不同的语义约束。</p></li> <li><p>从实现角度，any 直接反映为动态类型，不需要反射来获取类型；泛型需要通过反射来实现运行时的类型装箱。</p></li></ol> <p>所以 any 类型和泛型的实现机制是不同的，前者完全动态，后者需要类型关联的元信息和反射。</p> <p>总结一下，TypeScript 中的 any 类型和泛型从编译和运行时实现机制上区别很大，不能认为是相同的底层方式。any 完全动态，泛型需要类型关系和反射。</p> <h2 id="泛型使用省略">泛型使用省略</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">identity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可以省略类型</span>
<span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>TypeScript 的类型推断规则如下：</p> <ul><li>如果泛型函数的参数有类型注解，用参数的类型注解作为泛型类型</li> <li>如果没有类型注解，则根据默认值推断类型</li> <li>如果没有默认值，则默认为 any 类型</li></ul> <p>另外，在实例化泛型类时，如果不指定泛型类型参数，默认会使用 any 类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code>
Copy code

<span class="token keyword">class</span> <span class="token class-name">Generic<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Generic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ts 也有约束的泛型</p> <h2 id="extends-和类型约束">extends 和类型约束</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">printProperty</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>p<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用 extends 表示约束的内容，内容是属性叫做 name，name 的类型是 string</p> <p>下面是内置的泛型约束</p> <h3 id="partial">Partial<T></T></h3> <p>将类型 T 的所有属性都转化为可选属性</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">mP</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>People<span class="token operator">&gt;</span>

<span class="token comment">// 表示 age 属性是可选的</span>
<span class="token keyword">const</span> dd<span class="token operator">:</span>mP <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'shgopher'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="required">Required<T></T></h3> <p>将类型 T 的所有属性都转化为必需属性</p> <h3 id="pick-t-k">Pick&lt;T,K&gt;</h3> <p>从给定的 T 中选择指定的属性 K 组成一个新的类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  year<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">NewPerso</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>People<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token operator">|</span><span class="token string">'year'</span><span class="token operator">&gt;</span>

<span class="token keyword">const</span> people<span class="token operator">:</span>NewPerso <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
  year<span class="token operator">:</span><span class="token number">2000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> 

</code></pre></div><h3 id="exclude-t-u">Exclude &lt;T,U&gt;</h3> <p>Exclude 的一个常见用例是在操作联合类型时，从联合类型中排除某些特定的类型</p> <p><code>Exclude&lt;T, U&gt;</code> 是 TypeScript 提供的一个内置的条件类型，用于从联合类型 <code>T</code> 中排除所有可以赋值给 <code>U</code> 的类型。换句话说，它会创建一个新的类型，该类型包含 <code>T</code> 中所有不能赋值给 <code>U</code> 的类型。</p> <p><strong>语法</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span>
</code></pre></div><p><strong>示例</strong></p> <p>假设我们有以下类型定义：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token string">'x'</span> <span class="token operator">|</span> <span class="token string">'y'</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token string">'x'</span> <span class="token operator">|</span> <span class="token string">'z'</span><span class="token punctuation">;</span>
</code></pre></div><p>我们可以使用 <code>Exclude</code> 从类型 <code>A</code> 中排除 <code>B</code> 中存在的类型：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 'y'</span>
</code></pre></div><p>在这个例子中，<code>C</code> 的类型是 <code>'y'</code>，因为 <code>'x'</code> 可以赋值给 <code>B</code>，所以被排除了。</p> <p>我们还可以排除任何其他类型，比如基本类型或对象类型：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">Function</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string | number</span>
</code></pre></div><p>在这里，<code>D</code> 的类型是 <code>string | number</code>，因为 <code>() =&gt; void</code> 是一个 <code>Function</code> 类型，所以被排除了。</p> <p><code>Exclude</code> 的一个常见用例是在操作联合类型时，从联合类型中排除某些特定的类型。比如，我们可以使用它来创建一个新的类型，该类型包含了除了某些特定类型之外的所有类型。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>在这个例子中，<code>NonNullable</code> 是一个条件类型，它从类型 <code>T</code> 中排除 <code>null</code> 和 <code>undefined</code>，从而创建一个新的类型，该类型不包含 <code>null</code> 和 <code>undefined</code>。</p> <p>总之，<code>Exclude</code> 是一个非常有用的工具类型，它可以帮助我们在处理联合类型时更加灵活和方便。</p> <h3 id="omit-t-k">Omit&lt;T，K&gt;</h3> <p>内置泛型，用于从类型 T 中排除 U</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">NewPerso</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>People<span class="token punctuation">,</span><span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>

<span class="token keyword">const</span> p<span class="token operator">:</span>NewPerso <span class="token operator">=</span> <span class="token punctuation">{</span>
  address<span class="token operator">:</span><span class="token string">'shgopher'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="readonly">Readonly<T></T></h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">ReadOnly</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>People<span class="token operator">&gt;</span>
</code></pre></div><p>将属性变成只读</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shgopher/TSFamily/edit/release/ts/泛型/README.md" target="_blank" rel="noopener noreferrer">在GitHub中编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">3/6/2024, 4:59:23 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/TSFamily/assets/js/app.83052095.js" defer></script><script src="/TSFamily/assets/js/2.526aabdc.js" defer></script><script src="/TSFamily/assets/js/1.fb0de850.js" defer></script><script src="/TSFamily/assets/js/50.66beb206.js" defer></script>
  </body>
</html>
